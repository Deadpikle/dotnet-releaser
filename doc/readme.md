# `dotnet-releaser` User Guide

- [0) General usage](#0-general-usage)
- [1) Commands](#1-commands)
  - [1.1) `dotnet-releaser new`](#11-dotnet-releaser-new)
  - [1.2) `dotnet-releaser build`](#12-dotnet-releaser-build)
  - [1.3) `dotnet-releaser publish`](#13-dotnet-releaser-publish)
- [2) Configuration](#2-configuration)
  - [2.1) General](#21-general)
  - [2.2) MSBuild](#22-msbuild)
  - [2.3) GitHub](#23-github)
  - [2.4) Packaging](#24-packaging)
  - [2.5) NuGet](#25-nuget)
  - [2.6) Homebrew](#26-homebrew)
  - [2.7) Changelog](#27-changelog)
  - [2.8) Service](#28-service)
    - [2.8.1) Systemd](#281-systemd)
  - [2.9) Package Dependencies](#29-package-dependencies)
- [3) Adding dotnet-releaser to your CI on GitHub](#3-adding-dotnet-releaser-to-your-ci-on-github)
  - [3.1) Steps for a GitHub CI Integration](#31-steps-for-a-github-ci-integration)
  - [3.2) Example of a GitHub CI Integration](#32-example-of-a-github-ci-integration)
- [4) Logs generated by `dotnet-releaser`](#4-logs-generated-by-dotnet-releaser)

## 0) General usage

Get some help by typing `dotnet-releaser --help`

```
dotnet-releaser 0.1.0 - 2022 (c) Copyright Alexandre Mutel

Usage: dotnet-releaser [command] [options]

Options:
  --version     Show version information.
  -?|-h|--help  Show help information.

Commands:
  build         Build only the project.
  new           Create a dotnet-releaser TOML configuration file for a specified project.
  publish       Build and publish the project.

Run 'dotnet-releaser [command] -?|-h|--help' for more information about a command.
```
## 1) Commands

### 1.1) `dotnet-releaser new`

```
Create a dotnet-releaser TOML configuration file for a specified project.

Usage: dotnet-releaser new [options] <dotnet-releaser.toml>

Arguments:
  dotnet-releaser.toml      TOML configuration file path to create. Default is: dotnet-releaser.toml

Options:
  --project <project_file>  A - relative - path to project file (csproj, vbproj, fsproj)
  --user <GitHub_user/org>  The GitHub user/org where the packages will be published
  --repo <GitHub_repo>      The GitHub repo name where the packages will be published
  --force                   Force overwriting the existing TOML configuration file.
  -?|-h|--help              Show help information.
```

Example:

```sh
$ dotnet-releaser new --project HelloWorld.csproj --user xoofx --repo HelloWorld
``` 

The command above will create a `dotnet-releaser.toml` configuration file. See [](#)


### 1.2) `dotnet-releaser build`

```
Build only the project.

Usage: dotnet-releaser build [options] <dotnet-releaser.toml>

Arguments:
  dotnet-releaser.toml  TOML configuration file

Options:
  --force               Force deleting and recreating the artifacts folder.
  -?|-h|--help          Show help information.
```

Example:

```sh
$ dotnet-releaser build --project HelloWorld.csproj --user xoofx --repo HelloWorld
``` 

### 1.3) `dotnet-releaser publish`

```
Build and publish the project.

Usage: dotnet-releaser publish [options] <dotnet-releaser.toml>

Arguments:
  dotnet-releaser.toml    TOML configuration file

Options:
  --github-token <token>  GitHub Api Token. Required if publish to GitHub is true in the config file
  --nuget-token <token>   NuGet Api Token. Required if publish to NuGet is true in the config file
  --force                 Force deleting and recreating the artifacts folder.
  -?|-h|--help            Show help information.
```

## 2) Configuration

The configuration is all done with a configuration file in the [TOML](https://toml.io/en/) format.

### 2.1) General

The following properties can only be set before any of the sections (e.g `[msbuild]`, `[nuget]`...)

___
> `profile` : string

Defines which packs are created by default. See [packaging](#24-packaging) for more details.

```toml
# This is the default, creating all the OS/CPU/Packages listed on the front readme.md
profile = "default"
# This will make no default packs. You need to configure them manually
profile = "custom"
```
___
> `artifacts_folder` : string

Defines to which folder to output created packages. By default it is setup to `artifacts-dotnet-releaser` relative to where to TOML configuration file is.

```toml
# This is the default, creating all the OS/CPU/Packages listed on the front readme.md
artifacts_folder = "myfolder"
```
___
### 2.2) MSBuild

This section defines:

- The application project to build. This **property is mandatory**. There is no default!
- The MSBuild configuration (e.g `Debug` or `Release`). Default is `Release`
- Additional MSBuild properties

Example:

```toml
# MSBuild section
[msbuild]
project = "../Path/To/My/Project.csproj"
configuration = "Release"
[msbuild.properties]
PublishReadyToRun = false # Disable PublishReadyToRun
```
___
> `msbuild.project` : string

Specifies the path to the project to compile with MSBuild. If this path uses a relative path, it will be relative to the location of your TOML configuration file.

___
> `msbuild.configuration` : string

Specifies the MSBuild `Configuration` property. By default this is set to `Release`.

___
> `[msbuild.properties]`

By default, `dotnet-releaser` is using the following MSBuild defaults for configuring your application as a single file/self contained application:

```toml
# Default values used by `dotnet-releaser`
[msbuild.properties]
PublishTrimmed = true
PublishSingleFile = true
SelfContained = true
PublishReadyToRun = true 
CopyOutputSymbolsToPublishDirectory = false
SkipCopyingSymbolsToOutputDirectory = true 
``` 

But you can completely override these property values.
___
### 2.3) GitHub

In order to publish to GitHub, you need to define at least the actual user and repo of your command line application.

Example:

```toml
[github]
user = "xoofx"
repo = "dotnet-releaser"
# base = "https://github.com"
# version_prefix = "v"
``` 
___
> `github.user` : string

Defines the user or organization on your GitHub server.

___
> `github.repo` : string

Defines the repository under your user or organization on your GitHub server.

___
> `github.base` : string

Defines the base URL for your GitHub server. By default, it is using the public GitHub repository `https://github.com`

___
> `github.version_prefix` : string

Defines the prefix to add to the package version in order to find the associated tag release on GitHub. By default, there is no prefix defined (so the package version must be == the GitHub tag).

Usually, it can require that you setup a `v` on your prefix in case your GitHub tags are prefixed by this letter (e.g `v1.0.0`).

```toml
[github]
user = "xoofx"
repo = "dotnet-releaser"
version_prefix = "v"
``` 
___
### 2.4) Packaging

This is where you define the matrix of all the OS, CPUs and archives/packages you want to cross-compile and generate.

The kind of packaging can be define at the top level with the `profile` property.

> `profile = "default"`

This defines the packaging to use the default OS/CPU/packages.

```toml
## This is the default no need to specify it
profile = "default"
```

For this profile, it will use by default several packs pre-configured.

A `[[pack]]` in the TOML configuration is defined by:

- A RuntimeIdentifier aka a `rid`: See [https://docs.microsoft.com/en-us/dotnet/core/rid-catalog](https://docs.microsoft.com/en-us/dotnet/core/rid-catalog) for all the possible values.
- `kinds` of package:
  - `zip`: Creates a zip archive. 
  - `tar`: Creates a tar.gz archive. 
  - `deb`: Creates a Debian package.
  - `rpm`: Creates a Redhat package. 

```toml
# Default targets for Windows
[[pack]]
rid = ["win-x64", "win-arm", "win-arm64"]
kinds = ["zip"]
# Default targets for Linux/Ubuntu Debian compatible distro
[[pack]]
rid = ["linux-x64", "linux-arm", "linux-arm64"]
kinds = ["deb", "tar"]
# Default targets for Linux/Redhat compatible distro
[[pack]]
rid = ["rhel-x64"]
kinds = ["rpm", "tar"]
# Default targets for macOS
[[pack]]
rid = ["osx-x64", "osx-arm64"]
kinds = ["tar"]
```
You can decide to override a specific `rid`, e.g 

For example, defining this pack with the default profile:

```toml
[[pack]]
rid = ["win-x64"]
kinds = ["zip", "tar"]
```

Will only override the `win-x64` to generate a `zip` and a `tar.gz`

___
> `pack.publish` : bool

You can disable a particular pack to be build/published.

```toml
[[pack]]
publish = false
rid = ["win-x64"]
kinds = ["zip"]
```

By default, all packs declared are `publish = true`.

___
> `profile = "custom"`

If you want to disable the list of default packages, you can use the custom profile.

In that case, you need to define all packs manually as described above. 

You can for example target e.g `win-x86` which is not generated by default.

But you can also extend the default profile by just defining this rid. It's up to what is more convenient for your setup!
### 2.5) NuGet

Allow to publish to a NuGet registry. By default it is on and publishing to the official NuGet public registry.

___
> `nuget.source` : string

By default the publish NuGet registry is used `https://api.nuget.org/v3/index.json`, but you can override it with your own registry:

```toml
[nuget]
source = "https://my.special.registry.nuget.org/v3/index.json"
# publish = false
```
___
> `nuget.publish` : bool

Allow to disable publishing to NuGet:

```toml
[nuget]
publish = false
```
### 2.6) Homebrew

By default, a Homebrew repository and formula will be created if a `tar` file is generated for either a Linux or MacOS platform.

You can disable Homebrew support via

```toml
[brew]
publish = false
```

If your application name is `my-application`, and your GitHub user `xyz`, it will create and update automatically a repository at `https://github.com/xyz/homebrew-my-application`.

This repository will contain:

- a top level `readme.md`
- a folder `Formula`
- a Homebrew Ruby file `Formula/my-application.rb` that contains the formula with all the tar files that can be installed.

See for example the generated [Homebrew repository for grpc-curl](https://github.com/xoofx/homebrew-grpc-curl)

### 2.7) Changelog

`dotnet-releaser` can automatically transfer your changelog from a `changelog.md` to your GitHub release for the specific version of the package published.

By default, it will try to search a `changelog.md` file in the upper directories of your TOML configuration file.

Then it will parse the file to search for a default regex for a header `^##\s+v?((\d+\.)*(\d+))`

For example, if your changelog is setup like this:

```md

# Changelog

## 1.3.1 (27 Oct 2021)

### Fixes
- Fix for this annoying bug...

### Breaking changes
- ...
``` 

If you are publishing the `1.3.1` version of your package, it will extract the markdown after the `## 1.3.1` header:

```md
### Fixes
- Fix for this annoying bug...

### Breaking changes
- ...
```

And this will be uploaded to your tag release.

___
> `changelog.publish` : bool

You can disable entirely changelog support:

```toml
[changelog]
publish = false
```
___
> `changelog.path` : string

Override the default path to the changelog. Can be relative to the TOML configuration file. By default, `dotnet-releaser` tries to look up in higher directory for a file `changelog.md`

```toml
[changelog]
path = "this/is/my/path/to/my/changelog.md"
```

___
> `changelog.version` : string

Overrides the default regex that will be used to match the Markdown header and look for the exact version:

```toml
[changelog]
version = '^##\s+v?((\d+\.)*(\d+))' # This is the default
```

`dotnet-releaser` can automatically transfer your changelog from a `changelog.md` to your GitHub release for the specific version of the package published.

### 2.8) Service

`dotnet-releaser` allows to package an application as a service that can be be automatically started by the platform supporting such kind of packages.

Currently, only Systemd services are supported for `deb` and `rpm` packages.

In order to activate support for services, you need to set:

```toml
[service]
publish = true # Allow to package the application as a service for the packages supporting it.
```

Then for each kind of service system, your application might require specific configuration.

#### 2.8.1) Systemd

An example of a specific configuration for a systemd service

```toml
[service.systemd]
arguments = "/etc/my_configuration_file.toml" 
user = "xoofx"
[service.systemd.sections.Unit]
After = "network.target"
```

In the example above, we would like to pass to our service a file as an argument `/etc/my_configuration_file.toml`, launch the service with the user `xoofx` and make sure the service is started after the network.

___
> `service.systemd.arguments`: string

Specifies the arguments that will be passed to your application when being run by systemd.

___
> `service.systemd.user`: string

Specifies the user to use to launch the application as a service.

___
> `service.systemd.sections`: object

The sections provides access to the underlying [Unit file](https://manpages.debian.org/bullseye-backports/systemd/systemd.unit.5.en.html).

Anything that is defined after `sections` will be transferred to the final Unit file.

There are pre-existing sections created, like `Unit` or `Install` or `Service`, but you can add your own section.

```toml
[service.systemd.sections.Unit]
After = "network.target"
```

The service created by dotnet-releaser comes with a few defaults:

```ini
[Unit]
Description = your package description will be set here
StartLimitBurst = 4
StartLimitIntervalSec = 60
[Install]
WantedBy = multi-user.target
[Service]
ExecStart = /usr/local/bin/your-app your-arguments-or-empty
Restart = always
RestartSec = 1
Type = simple
```

See the [Systemd configuration manual](https://manpages.debian.org/bullseye-backports/systemd/systemd.unit.5.en.html) for the meaning of these defaults.


### 2.9) Package Dependencies

It is possible to define package dependencies if the underlying package model supports it.

> NOTE: Package dependencies are currently only supported for `deb` and `rpm`.

```toml
# Adds one dependency to `a-first-runtime`
[[deb.depends]]
name = "a-first-runtime"
# Adds a dependency to a runtime with multiple versions
[[deb.depends]]
name = ["your-runtime1.0", "your-runtime2.0", "your-runtime3.0"]
```

In order to specify dependencies for `rpm`, you can use a similar syntax with `[[rpm.depends]]`.




## 3) Adding dotnet-releaser to your CI on GitHub

You can easily replace the step of using `nuget push` with `dotnet-releaser` to automate entirely the publication of your package.

### 3.1) Steps for a GitHub CI Integration

In order to use `dotnet-releaser` on your GitHub CI, you need:

1. To install `dotnet 6.0`
2. To install the global tool `dotnet-releaser`
  ```sh
  dotnet tool install --global dotnet-releaser --version "0.1.*"
  ```
3. To run the dotnet-releaser command assuming that you have added all the secret tokens to your GitHub repository
  ```sh
  dotnet-releaser publish --nuget-token ${{secrets.NUGET_TOKEN}} --github-token ${{secrets.TOKEN_GITHUB}} src/dotnet-releaser.toml
  ```

### 3.2) Example of a GitHub CI Integration

An example of a setup with GitHub Actions:

```yaml
    - name: Install .NET 6.0
      uses: actions/setup-dotnet@v1
      with:
        dotnet-version: '6.0.x'

   # more entries

    - name: Publish
      if: github.event_name == 'push'
      run: |
          if ( "${{github.ref}}" -match "^refs/tags/[0-9]+\.[0-9]+\.[0-9]+" ) {
              dotnet tool install --global dotnet-releaser --version "0.1.*" 
              dotnet-releaser publish --nuget-token ${{secrets.NUGET_TOKEN}} --github-token ${{secrets.TOKEN_GITHUB}} src/dotnet-releaser.toml
          } else {
              echo "publish is only enabled by tagging with a release tag"
          }
```

> `dotnet-releaser` is currently not available as a GitHub Action, as it requires anyway `dotnet` to be installed (in order to compile the projects). As you can see, the integration is very straightforward with .NET global tools.

If you want to see an example of integration in a real project on GitHub, checkout this [ci.yml from the project grpc-curl](https://github.com/xoofx/grpc-curl/blob/329ac4fce0c7840fbca63c0b66400fc24bce3791/.github/workflows/ci.yml#L42-L50).

## 4) Logs generated by `dotnet-releaser`

This is an example of logs generated by `dotnet-releaser` when running from your CI:

```log
Tool 'dotnet-releaser' (version '0.1.0') was successfully installed.
info: dotnet-releaser[0]
      Loading configuration from D:\a\grpc-curl\grpc-curl\src\dotnet-releaser.toml
info: dotnet-releaser[1]
      Adding default profile for platform [win-x64] with [Zip] package
      Adding default profile for platform [win-arm] with [Zip] package
      Adding default profile for platform [win-arm64] with [Zip] package
      Adding default profile for platform [linux-x64] with [Deb, Tar] packages
      Adding default profile for platform [linux-arm] with [Deb, Tar] packages
      Adding default profile for platform [linux-arm64] with [Deb, Tar] packages
      Adding default profile for platform [rhel-x64] with [Rpm, Tar] packages
      Adding default profile for platform [osx-x64] with [Tar] package
      Adding default profile for platform [osx-arm64] with [Tar] package
      
info: dotnet-releaser[2]
      Package to build: PackageInfo { Name = grpc-curl, Version = 1.3.4, Description = grpc-curl is a command line tool for interacting with gRPC servers., License = BSD-2-Clause, ProjectUrl = https://github.com/xoofx/grpc-curl }
info: dotnet-releaser[3]
      Connecting to GitHub
info: dotnet-releaser[4]
      Changelog found:
      - Fix exception with RequiredAttribute constructor not found
info: dotnet-releaser[5]
      Building NuGet Package
info: dotnet-releaser[6]
      NuGet Package built: D:\a\grpc-curl\grpc-curl\src\artifacts-dotnet-releaser\grpc-curl.1.3.4.nupkg
info: dotnet-releaser[7]
      Build configured for platform [win-x64] with [Zip] package
      Build configured for platform [win-arm] with [Zip] package
      Build configured for platform [win-arm64] with [Zip] package
      Build configured for platform [linux-x64] with [Deb, Tar] packages
      Build configured for platform [linux-arm] with [Deb, Tar] packages
      Build configured for platform [linux-arm64] with [Deb, Tar] packages
      Build configured for platform [rhel-x64] with [Rpm, Tar] packages
      Build configured for platform [osx-x64] with [Tar] package
      Build configured for platform [osx-arm64] with [Tar] package
      
info: dotnet-releaser[8]
      Begin building platform packages...
info: dotnet-releaser[9]
      Building target platform [win-x64] / [zip] package
warn: dotnet-releaser[10]
      C:\Users\runneradmin\.nuget\packages\google.protobuf\3.19.3\lib\net5.0\Google.Protobuf.dll(0,0): warning IL2104: Assembly 'Google.Protobuf' produced trim warnings. For more information see https://aka.ms/dotnet-illink/libraries [D:\a\grpc-curl\grpc-curl\src\GrpcCurl\GrpcCurl.csproj]
warn: dotnet-releaser[11]
      C:\Users\runneradmin\.nuget\packages\mcmaster.extensions.commandlineutils\4.0.0\lib\netstandard2.1\McMaster.Extensions.CommandLineUtils.dll(0,0): warning IL2104: Assembly 'McMaster.Extensions.CommandLineUtils' produced trim warnings. For more information see https://aka.ms/dotnet-illink/libraries [D:\a\grpc-curl\grpc-curl\src\GrpcCurl\GrpcCurl.csproj]
info: dotnet-releaser[12]
      Build successful in 49.2816248s for platform [win-x64] / [zip] package: D:\a\grpc-curl\grpc-curl\src\artifacts-dotnet-releaser\grpc-curl.1.3.4.win-x64.zip
info: dotnet-releaser[13]
      Building target platform [win-arm] / [zip] package
warn: dotnet-releaser[14]
      C:\Users\runneradmin\.nuget\packages\google.protobuf\3.19.3\lib\net5.0\Google.Protobuf.dll(0,0): warning IL2104: Assembly 'Google.Protobuf' produced trim warnings. For more information see https://aka.ms/dotnet-illink/libraries [D:\a\grpc-curl\grpc-curl\src\GrpcCurl\GrpcCurl.csproj]
warn: dotnet-releaser[15]
      C:\Users\runneradmin\.nuget\packages\mcmaster.extensions.commandlineutils\4.0.0\lib\netstandard2.1\McMaster.Extensions.CommandLineUtils.dll(0,0): warning IL2104: Assembly 'McMaster.Extensions.CommandLineUtils' produced trim warnings. For more information see https://aka.ms/dotnet-illink/libraries [D:\a\grpc-curl\grpc-curl\src\GrpcCurl\GrpcCurl.csproj]
info: dotnet-releaser[16]
      Build successful in 40.3220307s for platform [win-arm] / [zip] package: D:\a\grpc-curl\grpc-curl\src\artifacts-dotnet-releaser\grpc-curl.1.3.4.win-arm.zip
info: dotnet-releaser[17]
      Building target platform [win-arm64] / [zip] package
warn: dotnet-releaser[18]
      C:\Users\runneradmin\.nuget\packages\google.protobuf\3.19.3\lib\net5.0\Google.Protobuf.dll(0,0): warning IL2104: Assembly 'Google.Protobuf' produced trim warnings. For more information see https://aka.ms/dotnet-illink/libraries [D:\a\grpc-curl\grpc-curl\src\GrpcCurl\GrpcCurl.csproj]
warn: dotnet-releaser[19]
      C:\Users\runneradmin\.nuget\packages\mcmaster.extensions.commandlineutils\4.0.0\lib\netstandard2.1\McMaster.Extensions.CommandLineUtils.dll(0,0): warning IL2104: Assembly 'McMaster.Extensions.CommandLineUtils' produced trim warnings. For more information see https://aka.ms/dotnet-illink/libraries [D:\a\grpc-curl\grpc-curl\src\GrpcCurl\GrpcCurl.csproj]
info: dotnet-releaser[20]
      Build successful in 45.718891s for platform [win-arm64] / [zip] package: D:\a\grpc-curl\grpc-curl\src\artifacts-dotnet-releaser\grpc-curl.1.3.4.win-arm64.zip
info: dotnet-releaser[21]
      Building target platform [linux-x64] / [deb] package
warn: dotnet-releaser[22]
      C:\Users\runneradmin\.nuget\packages\google.protobuf\3.19.3\lib\net5.0\Google.Protobuf.dll(0,0): warning IL2104: Assembly 'Google.Protobuf' produced trim warnings. For more information see https://aka.ms/dotnet-illink/libraries [D:\a\grpc-curl\grpc-curl\src\GrpcCurl\GrpcCurl.csproj]
warn: dotnet-releaser[23]
      C:\Users\runneradmin\.nuget\packages\mcmaster.extensions.commandlineutils\4.0.0\lib\netstandard2.1\McMaster.Extensions.CommandLineUtils.dll(0,0): warning IL2104: Assembly 'McMaster.Extensions.CommandLineUtils' produced trim warnings. For more information see https://aka.ms/dotnet-illink/libraries [D:\a\grpc-curl\grpc-curl\src\GrpcCurl\GrpcCurl.csproj]
info: dotnet-releaser[24]
      Build successful in 50.1713612s for platform [linux-x64] / [deb] package: D:\a\grpc-curl\grpc-curl\src\artifacts-dotnet-releaser\grpc-curl.1.3.4.linux-x64.deb
info: dotnet-releaser[25]
      Building target platform [linux-x64] / [tar] package
info: dotnet-releaser[26]
      Build successful in 4.8770194s for platform [linux-x64] / [tar] package: D:\a\grpc-curl\grpc-curl\src\artifacts-dotnet-releaser\grpc-curl.1.3.4.linux-x64.tar.gz
info: dotnet-releaser[27]
      Building target platform [linux-arm] / [deb] package
warn: dotnet-releaser[28]
      C:\Users\runneradmin\.nuget\packages\google.protobuf\3.19.3\lib\net5.0\Google.Protobuf.dll(0,0): warning IL2104: Assembly 'Google.Protobuf' produced trim warnings. For more information see https://aka.ms/dotnet-illink/libraries [D:\a\grpc-curl\grpc-curl\src\GrpcCurl\GrpcCurl.csproj]
warn: dotnet-releaser[29]
      C:\Users\runneradmin\.nuget\packages\mcmaster.extensions.commandlineutils\4.0.0\lib\netstandard2.1\McMaster.Extensions.CommandLineUtils.dll(0,0): warning IL2104: Assembly 'McMaster.Extensions.CommandLineUtils' produced trim warnings. For more information see https://aka.ms/dotnet-illink/libraries [D:\a\grpc-curl\grpc-curl\src\GrpcCurl\GrpcCurl.csproj]
info: dotnet-releaser[30]
      Build successful in 47.412283s for platform [linux-arm] / [deb] package: D:\a\grpc-curl\grpc-curl\src\artifacts-dotnet-releaser\grpc-curl.1.3.4.linux-arm.deb
info: dotnet-releaser[31]
      Building target platform [linux-arm] / [tar] package
info: dotnet-releaser[32]
      Build successful in 4.7129295s for platform [linux-arm] / [tar] package: D:\a\grpc-curl\grpc-curl\src\artifacts-dotnet-releaser\grpc-curl.1.3.4.linux-arm.tar.gz
info: dotnet-releaser[33]
      Building target platform [linux-arm64] / [deb] package
warn: dotnet-releaser[34]
      C:\Users\runneradmin\.nuget\packages\google.protobuf\3.19.3\lib\net5.0\Google.Protobuf.dll(0,0): warning IL2104: Assembly 'Google.Protobuf' produced trim warnings. For more information see https://aka.ms/dotnet-illink/libraries [D:\a\grpc-curl\grpc-curl\src\GrpcCurl\GrpcCurl.csproj]
warn: dotnet-releaser[35]
      C:\Users\runneradmin\.nuget\packages\mcmaster.extensions.commandlineutils\4.0.0\lib\netstandard2.1\McMaster.Extensions.CommandLineUtils.dll(0,0): warning IL2104: Assembly 'McMaster.Extensions.CommandLineUtils' produced trim warnings. For more information see https://aka.ms/dotnet-illink/libraries [D:\a\grpc-curl\grpc-curl\src\GrpcCurl\GrpcCurl.csproj]
info: dotnet-releaser[36]
      Build successful in 49.4634929s for platform [linux-arm64] / [deb] package: D:\a\grpc-curl\grpc-curl\src\artifacts-dotnet-releaser\grpc-curl.1.3.4.linux-arm64.deb
info: dotnet-releaser[37]
      Building target platform [linux-arm64] / [tar] package
info: dotnet-releaser[38]
      Build successful in 4.873731s for platform [linux-arm64] / [tar] package: D:\a\grpc-curl\grpc-curl\src\artifacts-dotnet-releaser\grpc-curl.1.3.4.linux-arm64.tar.gz
info: dotnet-releaser[39]
      Building target platform [rhel-x64] / [rpm] package
warn: dotnet-releaser[40]
      C:\Users\runneradmin\.nuget\packages\google.protobuf\3.19.3\lib\net5.0\Google.Protobuf.dll(0,0): warning IL2104: Assembly 'Google.Protobuf' produced trim warnings. For more information see https://aka.ms/dotnet-illink/libraries [D:\a\grpc-curl\grpc-curl\src\GrpcCurl\GrpcCurl.csproj]
warn: dotnet-releaser[41]
      C:\Users\runneradmin\.nuget\packages\mcmaster.extensions.commandlineutils\4.0.0\lib\netstandard2.1\McMaster.Extensions.CommandLineUtils.dll(0,0): warning IL2104: Assembly 'McMaster.Extensions.CommandLineUtils' produced trim warnings. For more information see https://aka.ms/dotnet-illink/libraries [D:\a\grpc-curl\grpc-curl\src\GrpcCurl\GrpcCurl.csproj]
info: dotnet-releaser[42]
      Build successful in 45.7346841s for platform [rhel-x64] / [rpm] package: D:\a\grpc-curl\grpc-curl\src\artifacts-dotnet-releaser\grpc-curl.1.3.4.rhel-x64.rpm
info: dotnet-releaser[43]
      Building target platform [rhel-x64] / [tar] package
info: dotnet-releaser[44]
      Build successful in 4.8281127s for platform [rhel-x64] / [tar] package: D:\a\grpc-curl\grpc-curl\src\artifacts-dotnet-releaser\grpc-curl.1.3.4.rhel-x64.tar.gz
info: dotnet-releaser[45]
      Building target platform [osx-x64] / [tar] package
warn: dotnet-releaser[46]
      C:\Users\runneradmin\.nuget\packages\google.protobuf\3.19.3\lib\net5.0\Google.Protobuf.dll(0,0): warning IL2104: Assembly 'Google.Protobuf' produced trim warnings. For more information see https://aka.ms/dotnet-illink/libraries [D:\a\grpc-curl\grpc-curl\src\GrpcCurl\GrpcCurl.csproj]
warn: dotnet-releaser[47]
      C:\Users\runneradmin\.nuget\packages\mcmaster.extensions.commandlineutils\4.0.0\lib\netstandard2.1\McMaster.Extensions.CommandLineUtils.dll(0,0): warning IL2104: Assembly 'McMaster.Extensions.CommandLineUtils' produced trim warnings. For more information see https://aka.ms/dotnet-illink/libraries [D:\a\grpc-curl\grpc-curl\src\GrpcCurl\GrpcCurl.csproj]
info: dotnet-releaser[48]
      Build successful in 35.9833752s for platform [osx-x64] / [tar] package: D:\a\grpc-curl\grpc-curl\src\artifacts-dotnet-releaser\grpc-curl.1.3.4.osx-x64.tar.gz
info: dotnet-releaser[49]
      Building target platform [osx-arm64] / [tar] package
warn: dotnet-releaser[50]
      C:\Users\runneradmin\.nuget\packages\google.protobuf\3.19.3\lib\net5.0\Google.Protobuf.dll(0,0): warning IL2104: Assembly 'Google.Protobuf' produced trim warnings. For more information see https://aka.ms/dotnet-illink/libraries [D:\a\grpc-curl\grpc-curl\src\GrpcCurl\GrpcCurl.csproj]
warn: dotnet-releaser[51]
      C:\Users\runneradmin\.nuget\packages\mcmaster.extensions.commandlineutils\4.0.0\lib\netstandard2.1\McMaster.Extensions.CommandLineUtils.dll(0,0): warning IL2104: Assembly 'McMaster.Extensions.CommandLineUtils' produced trim warnings. For more information see https://aka.ms/dotnet-illink/libraries [D:\a\grpc-curl\grpc-curl\src\GrpcCurl\GrpcCurl.csproj]
info: dotnet-releaser[52]
      Build successful in 36.3016596s for platform [osx-arm64] / [tar] package: D:\a\grpc-curl\grpc-curl\src\artifacts-dotnet-releaser\grpc-curl.1.3.4.osx-arm64.tar.gz
info: dotnet-releaser[53]
      End building platform packages successful.
info: dotnet-releaser[54]
      Publishing NuGet 1.3.4
info: dotnet-releaser[55]
      Loading release tag 1.3.4
info: dotnet-releaser[56]
      Updating release 1.3.4 with new changelog
info: dotnet-releaser[57]
      Uploading grpc-curl.1.3.4.win-x64.zip to GitHub Release: 1.3.4 (Size: 11MB)
info: dotnet-releaser[58]
      Uploading grpc-curl.1.3.4.win-arm.zip to GitHub Release: 1.3.4 (Size: 10MB)
info: dotnet-releaser[59]
      Uploading grpc-curl.1.3.4.win-arm64.zip to GitHub Release: 1.3.4 (Size: 10MB)
info: dotnet-releaser[60]
      Uploading grpc-curl.1.3.4.linux-x64.deb to GitHub Release: 1.3.4 (Size: 8MB)
info: dotnet-releaser[61]
      Uploading grpc-curl.1.3.4.linux-x64.tar.gz to GitHub Release: 1.3.4 (Size: 11MB)
info: dotnet-releaser[62]
      Uploading grpc-curl.1.3.4.linux-arm.deb to GitHub Release: 1.3.4 (Size: 8MB)
info: dotnet-releaser[63]
      Uploading grpc-curl.1.3.4.linux-arm.tar.gz to GitHub Release: 1.3.4 (Size: 10MB)
info: dotnet-releaser[64]
      Uploading grpc-curl.1.3.4.linux-arm64.deb to GitHub Release: 1.3.4 (Size: 7MB)
info: dotnet-releaser[65]
      Uploading grpc-curl.1.3.4.linux-arm64.tar.gz to GitHub Release: 1.3.4 (Size: 11MB)
info: dotnet-releaser[66]
      Uploading grpc-curl.1.3.4.rhel-x64.rpm to GitHub Release: 1.3.4 (Size: 8MB)
info: dotnet-releaser[67]
      Uploading grpc-curl.1.3.4.rhel-x64.tar.gz to GitHub Release: 1.3.4 (Size: 11MB)
info: dotnet-releaser[68]
      Uploading grpc-curl.1.3.4.osx-x64.tar.gz to GitHub Release: 1.3.4 (Size: 11MB)
info: dotnet-releaser[69]
      Uploading grpc-curl.1.3.4.osx-arm64.tar.gz to GitHub Release: 1.3.4 (Size: 10MB)
info: dotnet-releaser[70]
      Homebrew repository found xoofx/homebrew-grpc-curl
info: dotnet-releaser[71]
      Updating Homebrew Formula xoofx/homebrew-grpc-curl
```
